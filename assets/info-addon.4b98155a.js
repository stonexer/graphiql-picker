import{c}from"./index.f6f9b785.js";import{a as h}from"./codemirror.f8e1cf0b.js";function T(e,o){return o.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(t){if(t!=="default"&&!(t in e)){var u=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,u.get?u:{enumerable:!0,get:function(){return r[t]}})}})}),Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var m={},y=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});var n=y(h.exports);n.default.defineOption("info",!1,function(e,o,r){if(r&&r!==n.default.Init){var t=e.state.info.onMouseOver;n.default.off(e.getWrapperElement(),"mouseover",t),clearTimeout(e.state.info.hoverTimeout),delete e.state.info}if(o){var u=e.state.info=M(o);u.onMouseOver=_.bind(null,e),n.default.on(e.getWrapperElement(),"mouseover",u.onMouseOver)}});function M(e){return{options:e instanceof Function?{render:e}:e===!0?{}:e}}function O(e){var o=e.state.info.options;return o&&o.hoverTime||500}function _(e,o){var r=e.state.info,t=o.target||o.srcElement;if(t instanceof HTMLElement&&!(t.nodeName!=="SPAN"||r.hoverTimeout!==void 0)){var u=t.getBoundingClientRect(),a=function(){clearTimeout(r.hoverTimeout),r.hoverTimeout=setTimeout(f,p)},i=function(){n.default.off(document,"mousemove",a),n.default.off(e.getWrapperElement(),"mouseout",i),clearTimeout(r.hoverTimeout),r.hoverTimeout=void 0},f=function(){n.default.off(document,"mousemove",a),n.default.off(e.getWrapperElement(),"mouseout",i),r.hoverTimeout=void 0,E(e,u)},p=O(e);r.hoverTimeout=setTimeout(f,p),n.default.on(document,"mousemove",a),n.default.on(e.getWrapperElement(),"mouseout",i)}}function E(e,o){var r=e.coordsChar({left:(o.left+o.right)/2,top:(o.top+o.bottom)/2}),t=e.state.info,u=t.options,a=u.render||e.getHelper(r,"info");if(a){var i=e.getTokenAt(r,!0);if(i){var f=a(i,u,e,r);f&&w(e,o,f)}}}function w(e,o,r){var t=document.createElement("div");t.className="CodeMirror-info",t.appendChild(r),document.body.appendChild(t);var u=t.getBoundingClientRect(),a=window.getComputedStyle(t),i=u.right-u.left+parseFloat(a.marginLeft)+parseFloat(a.marginRight),f=u.bottom-u.top+parseFloat(a.marginTop)+parseFloat(a.marginBottom),p=o.bottom;f>window.innerHeight-o.bottom-15&&o.top>window.innerHeight-o.bottom&&(p=o.top-f),p<0&&(p=o.bottom);var s=Math.max(0,window.innerWidth-i-15);s>o.left&&(s=o.left),t.style.opacity="1",t.style.top=p+"px",t.style.left=s+"px";var d,v=function(){clearTimeout(d)},l=function(){clearTimeout(d),d=setTimeout(g,200)},g=function(){n.default.off(t,"mouseover",v),n.default.off(t,"mouseout",l),n.default.off(e.getWrapperElement(),"mouseout",l),t.style.opacity?(t.style.opacity="0",setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},600)):t.parentNode&&t.parentNode.removeChild(t)};n.default.on(t,"mouseover",v),n.default.on(t,"mouseout",l),n.default.on(e.getWrapperElement(),"mouseout",l)}var W=T({__proto__:null,default:m},[m]);export{W as i};
